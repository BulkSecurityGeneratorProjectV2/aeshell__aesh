= Æsh, Another Extendable SHell

== Introduction

Æsh is a Java framework that makes it easy to write command line (CLI) applications.
Æsh works on all POSIX (Linux, Mac, UNIX, ++) and Windows systems. It provides an easy to
use command API to easily create complex commands with options, arguments, autogenerated
docs, multilevel sub-commands plus a lot more.

Æsh supports both "standalone mode" for standalone commands or an CLI mode if the user
wants to create an interactive CLI.

Æsh also supports building native images with the use of GraalVM.

== Simple standalone command

[source, java]
----
import org.aesh.AeshRuntimeRunner;
import org.aesh.command.Command;
import org.aesh.command.CommandDefinition;
import org.aesh.command.CommandResult;
import org.aesh.command.invocation.CommandInvocation;
import org.aesh.command.option.Argument;

import java.io.File;
import java.io.IOException;
import java.nio.file.Files;

public class RuntimeExample {

    public static void main(String[] args) {
        AeshRuntimeRunner.builder()
                         .command(CatCommand.class)
                         .args(args)
                         .execute(); <1>
    }

    @CommandDefinition(name = "cat", description = "List content of a file") <2>
    public static class CatCommand implements Command {

        @Argument(required = true,
                  description = "File that will be read and it's contents printed") <3>
        private File file;

        @Override
        public CommandResult execute(CommandInvocation invocation) {

            if(file.isFile()) {
                try {
                    invocation.println(new String(Files.readAllBytes(file.toPath())));
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
            else
                invocation.println(file.toString() + " is not a readable file");

            return CommandResult.SUCCESS;
        }
    }
}
----
<1> The AeshRuntimeRunner sets up the specified command to receive the incoming arguments and
execute it
<2> All commands are defined with a @CommandDefinition where they are named and described.
Sub-commands are also defined here.
<3> Here we define an argument that is required with a description. Since the argument is
required Æsh will printout a well described error if it is not set.


== Simple CLI application

[source,java]
----
import org.aesh.AeshConsoleRunner;
import org.aesh.command.Command;
import org.aesh.command.CommandDefinition;
import org.aesh.command.CommandResult;
import org.aesh.command.invocation.CommandInvocation;

public class SimpleCLIExample {

    public static void main(String[] args) {
        AeshConsoleRunner.builder() <1>
                .command(HelloCommand.class)
                .prompt("[simple]$ ") <2>
                .addExitCommand() <3>
                .start(); <4>
    }

    @CommandDefinition(name = "hello", description = "hello from Aesh")
    public static class HelloCommand implements Command {
        @Override
        public CommandResult execute(CommandInvocation commandInvocation) {
            commandInvocation.println("Hello from Aesh!");
            return CommandResult.SUCCESS;
        }
    }
}
----
<1> The AeshConsoleRunner creates the CLI instance for us
<2> Here we define the default start-prompt, the prompt can easily be changed during the CLI session
<3> For simplicity we add a simple default exit command
<4> Then finally we start the CLI


